# RAG AI Agent Lab - Environment Configuration
# Copy this file to .env and configure your values

# ===========================================
# RAG System Configuration
# ===========================================

# Milvus Vector Database
MILVUS_URI=localhost:19530
MILVUS_TOKEN=
MILVUS_COLLECTION_NAME=ai_lab_chunks

# MinIO/S3 Object Storage (REQUIRED for production)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=rag-storage
MINIO_SECURE=false
MINIO_REGION=

# Redis (Optional - for progress tracking and caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================================
# RAG Processing Configuration
# ===========================================

# Document Processing
RAG_CHUNK_SIZE=800
RAG_CHUNK_OVERLAP=100
RAG_MIN_CHUNK_SIZE=120
RAG_MIN_QUALITY_SCORE=0.3
RAG_ENABLE_DEDUPLICATION=true

# Embedding Model
RAG_EMBEDDING_MODEL=bge-m3
RAG_EMBEDDING_DEVICE=cuda
RAG_EMBEDDING_BATCH_SIZE=32

# Vector Search
RAG_DEFAULT_TOP_K=5
RAG_DEFAULT_EF_SEARCH=96
RAG_USE_RERANKER=true

# ===========================================
# Workspace & Multi-tenancy
# ===========================================

RAG_DEFAULT_WORKSPACE=default
RAG_ENABLE_WORKSPACE_ISOLATION=true

# ===========================================
# Performance & Limits
# ===========================================

# Build Limits
RAG_MAX_DOCUMENTS=1000
RAG_MAX_CHUNKS_PER_DOC=500
RAG_MAX_TOTAL_CHUNKS=50000

# Search Limits
RAG_MAX_SEARCH_RESULTS=50
RAG_MAX_RERANK_CANDIDATES=64

# Progress Tracking
RAG_PROGRESS_TTL_SECONDS=7200
RAG_PROGRESS_CLEANUP_HOURS=24

# ===========================================
# Model Configuration (Integration with Lab)
# ===========================================

# Default LLM for RAG queries
RAG_DEFAULT_LLM_MODEL=mistral7b
RAG_LLM_MAX_TOKENS=500
RAG_LLM_TEMPERATURE=0.1

# ===========================================
# API & Web Configuration
# ===========================================

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false
API_LOG_LEVEL=info

# CORS Settings
CORS_ORIGINS=*
CORS_METHODS=GET,POST,PUT,DELETE
CORS_HEADERS=*

# ===========================================
# Logging & Monitoring
# ===========================================

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=detailed
LOG_FILE=logs/rag_ai_lab.log

# Metrics & Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# ===========================================
# Development Settings
# ===========================================

# Development Mode
DEVELOPMENT=false
DEBUG=false

# Testing
ENABLE_TEST_ENDPOINTS=false
USE_SAMPLE_DATA=false

# Local Storage Fallbacks
LOCAL_STORAGE_DIR=./rag_storage_fallback
LOCAL_LOGS_DIR=./logs

# ===========================================
# Security & Authentication
# ===========================================

# API Keys (if implementing authentication)
# RAG_API_KEY=your_api_key_here
# RAG_SECRET_KEY=your_secret_key_here

# Rate Limiting
# RATE_LIMIT_REQUESTS_PER_MINUTE=60
# RATE_LIMIT_BURST=10

# ===========================================
# External Services Integration
# ===========================================

# Webhook Notifications (Optional)
# WEBHOOK_URL=https://your-webhook-endpoint.com/rag-events
# WEBHOOK_SECRET=your_webhook_secret

# Email Notifications (Optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=RAG AI Lab <noreply@yourcompany.com>

# ===========================================
# Cloud Deployment Settings
# ===========================================

# AWS S3 (Alternative to MinIO)
# AWS_ACCESS_KEY_ID=your_aws_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-s3-bucket

# Managed Vector Database (Alternative to self-hosted Milvus)
# PINECONE_API_KEY=your_pinecone_key
# PINECONE_ENVIRONMENT=your_pinecone_env
# WEAVIATE_URL=https://your-weaviate-cluster.weaviate.network
# WEAVIATE_API_KEY=your_weaviate_key

# ===========================================
# Backup & Recovery
# ===========================================

# Backup Settings
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30
# BACKUP_STORAGE_PATH=./backups